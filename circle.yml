
machine:
	services:
		- docker

dependencies:
	override:
		- docker info
		- docker build -t ryanawilson/pluralsight-docker-CI
		
deployment:
  dockerhub:
    branch: master
    commands:
      - docker login -e $DOCKER_EMAIL -u $DOCKER_USER -p $DOCKER_PASS
	  - docker push ryanawilson/pluralsight-docker-CI

notify:
	webhooks:
		- url: https://registry.hub.docker.com/u/ryanawilson/pluralsight-docker-ci/trigger/f3b120ec-d9e1-40f7-ad43-4475885d3519/
	  
test:
  override:    
    - mocha